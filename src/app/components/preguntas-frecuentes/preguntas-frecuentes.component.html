<!-- Header y barra de busqueda -->
<app-plantilla-general></app-plantilla-general>
<div class="flex-container">
  <p class="regresar">
    <span (click)="regresar()" class="home">Home</span>
    <i class="bi bi-chevron-right"></i>
    <span>Preguntas Frecuentes</span>
  </p>
  <div class="tittle-pregunta">¿Cómo te podemos ayudar?</div>
  <div class="container-tab-search">
    <div class="container-tab">
      <ul class="nav nav-tabs">
        <li class="nav-item" (click)="selectTab('vehiculos')">
          <a class="nav-link" [class.active]="selectedTab === 'vehiculos'" aria-current="page">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25"
              [ngStyle]="{ fill: selectedTab === 'vehiculos' ? '#9B4CBA' : 'black' }">
              <g id="Component 31">
                <path id="Vector"
                  d="M1.1877 23.9C0.845789 23.9 0.593852 23.8169 0.341915 23.5617C0.0899775 23.3125 0 23.0573 0 22.725V12.2386L2.88528 3.85303C2.96926 3.60378 3.13722 3.34859 3.39515 3.18242C3.65309 3.01626 3.90502 2.93317 4.24094 2.93317H8.73382V1.59196C8.73382 1.25369 8.8178 1.00444 9.07573 0.83827C9.24369 0.589019 9.5856 0.5 9.83754 0.5H14.3304C14.6723 0.5 14.9243 0.583084 15.0922 0.83827C15.3442 1.00444 15.4341 1.34271 15.4341 1.59196V2.85009H19.927C20.179 2.85009 20.4369 2.93317 20.6888 3.09934C20.9408 3.26551 21.1147 3.43761 21.1147 3.76995L24 12.1555V22.725C24 23.0632 23.916 23.3125 23.6581 23.5617C23.4061 23.811 23.1482 23.9 22.8123 23.9C22.4764 23.9 22.2184 23.8169 21.9665 23.5617C21.7146 23.3125 21.6246 23.0573 21.6246 22.725V21.0455H2.29143V22.808C2.29143 23.1463 2.20745 23.3956 1.94951 23.6448C1.78155 23.7279 1.52362 23.8941 1.1877 23.8941V23.9ZM2.54336 10.4819H21.6186L19.5851 4.69574H4.49288L2.54336 10.4819ZM5.34466 17.4432C5.85454 17.4432 6.27443 17.277 6.61635 16.9388C6.95826 16.6005 7.12622 16.1851 7.12622 15.6806C7.12622 15.1762 6.95826 14.7608 6.61635 14.4225C6.27443 14.0842 5.85454 13.9181 5.34466 13.9181C4.83479 13.9181 4.4149 14.0842 4.07298 14.4225C3.73107 14.7608 3.56311 15.1762 3.56311 15.6806C3.56311 16.1851 3.73107 16.6005 4.07298 16.9388C4.49888 17.277 4.91877 17.4432 5.34466 17.4432ZM18.7393 17.4432C19.2492 17.4432 19.6691 17.277 20.011 16.9388C20.3529 16.6005 20.5209 16.1851 20.5209 15.6806C20.5209 15.1762 20.3529 14.7608 20.011 14.4225C19.6691 14.0842 19.2492 13.9181 18.7393 13.9181C18.2294 13.9181 17.8095 14.0842 17.4676 14.4225C17.1257 14.7608 16.9578 15.1762 16.9578 15.6806C16.9578 16.1851 17.1257 16.6005 17.4676 16.9388C17.8095 17.277 18.2294 17.4432 18.7393 17.4432ZM1.78155 19.2888H22.2124V12.2445H1.78155V19.2888Z" />
              </g>
            </svg>

            Vehiculos
          </a>
        </li>
        <li class="nav-item" (click)="selectTab('hogar')">
          <a class="nav-link" [class.active]="selectedTab === 'hogar'">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25"
              [ngStyle]="{ fill: selectedTab === 'hogar' ? '#9B4CBA' : 'black' }">
              <g id="Component 16">
                <path id="Vector"
                  d="M3.72142 22.46H8.78591V13.964H16.2146V22.46H21.2791V9.2L12.5003 2.54L3.72142 9.2V22.46ZM3.72142 24.5C3.18136 24.5 2.70732 24.296 2.30528 23.888C1.90324 23.48 1.69922 23.006 1.69922 22.46V9.2C1.69922 8.858 1.76523 8.588 1.90324 8.246C2.03525 7.976 2.23927 7.7 2.5093 7.568L11.2882 0.908C11.4922 0.77 11.6962 0.704 11.8942 0.638C12.0922 0.572 12.3023 0.5 12.5003 0.5C12.6983 0.5 12.9083 0.5 13.1063 0.638C13.3104 0.704 13.5144 0.776 13.7124 0.908L22.4852 7.568C22.7553 7.772 22.9593 7.976 23.0913 8.246C23.2233 8.516 23.2953 8.858 23.2953 9.2V22.46C23.2953 23.006 23.0913 23.48 22.6893 23.888C22.2872 24.296 21.8132 24.5 21.2731 24.5H14.1864V16.004H10.8141V24.5H3.72142Z" />
              </g>
            </svg>

            Hogar
          </a>
        </li>
        <li class="nav-item" (click)="selectTab('portalWeb')">
          <a class="nav-link" [class.active]="selectedTab === 'portalWeb'">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25"
              [ngStyle]="{ fill: selectedTab === 'portalWeb' ? '#9B4CBA' : 'black' }">
              <g id="emoji_language">
                <path id="emoji_language_2"
                  d="M15.956 24.5C14.2825 24.5 12.7582 24.0266 11.383 23.0797C10.0078 22.133 9.03 20.8772 8.44956 19.3123C8.38575 19.1546 8.36079 18.999 8.3747 18.8457C8.3886 18.6924 8.44804 18.5464 8.553 18.4077C8.65796 18.269 8.77912 18.163 8.91646 18.0897C9.05362 18.0166 9.21011 17.98 9.38594 17.98H17.675C17.7038 17.7154 17.7256 17.447 17.7405 17.1746C17.7553 16.9022 17.7628 16.6256 17.7628 16.3449C17.7628 16.1153 17.7581 15.8799 17.7488 15.6386C17.7394 15.3972 17.7137 15.151 17.6716 14.9H16.4709C16.2675 14.9 16.097 14.8309 15.9594 14.6926C15.8217 14.5541 15.7528 14.3827 15.7528 14.1783C15.7528 13.9737 15.8217 13.8035 15.9594 13.6677C16.097 13.5319 16.2675 13.464 16.4709 13.464H21.8429C21.4969 12.7768 21.0448 12.1703 20.4865 11.6446C19.9279 11.1189 19.293 10.7033 18.5817 10.398C18.3746 10.314 18.2269 10.1769 18.1385 9.98657C18.0501 9.7961 18.0414 9.60952 18.1122 9.42686C18.1829 9.24419 18.2974 9.10667 18.4557 9.01429C18.614 8.92191 18.7798 8.9099 18.9532 8.97829C20.4815 9.59219 21.705 10.5782 22.6235 11.9363C23.5421 13.2942 24.0014 14.7967 24.0014 16.4437C24.0014 18.6814 23.2201 20.5836 21.6574 22.1503C20.095 23.7168 18.1945 24.5 15.956 24.5ZM14.125 22.73C13.8554 22.1894 13.6275 21.646 13.4412 21.0997C13.2551 20.5536 13.1091 19.9923 13.0031 19.4157H10.0797C10.4838 20.2254 11.0357 20.9206 11.7356 21.5011C12.4357 22.0815 13.2321 22.4911 14.125 22.73ZM15.956 23.0091C16.3292 22.4474 16.636 21.8655 16.8764 21.2634C17.117 20.6611 17.3033 20.0452 17.4353 19.4157H14.465C14.5606 19.8675 14.744 20.439 15.0151 21.13C15.2861 21.821 15.5998 22.4474 15.956 23.0091ZM17.7868 22.73C18.6796 22.4911 19.4779 22.0815 20.1816 21.5011C20.8853 20.9206 21.439 20.2254 21.8429 19.4157H18.9063C18.7939 19.9965 18.6467 20.5589 18.4645 21.1029C18.2824 21.647 18.0565 22.1894 17.7868 22.73ZM19.1195 17.98H22.3881C22.4456 17.7396 22.4895 17.4921 22.5198 17.2374C22.5501 16.9828 22.5652 16.7167 22.5652 16.4391C22.5652 16.1616 22.5501 15.8988 22.5198 15.6506C22.4895 15.4024 22.4425 15.1522 22.3789 14.9H19.1195C19.1538 15.1421 19.1775 15.3832 19.1906 15.6234C19.2038 15.8638 19.2103 16.1082 19.2103 16.3566C19.2103 16.6309 19.2038 16.9019 19.1906 17.1697C19.1775 17.4375 19.1538 17.7076 19.1195 17.98ZM8.06152 16.6011C5.82093 16.6011 3.91702 15.8166 2.34982 14.2474C0.782624 12.6783 -0.000976562 10.7752 -0.000976562 8.53829C-0.000976562 6.30133 0.782719 4.40238 2.35011 2.84143C3.9175 1.28048 5.82073 0.5 8.05981 0.5C10.2989 0.5 12.199 1.28 13.7601 2.84C15.3212 4.39981 16.1017 6.3 16.1017 8.54057C16.1017 10.7752 15.3219 12.6773 13.7621 14.2469C12.2023 15.8164 10.3021 16.6011 8.06152 16.6011ZM8.05781 15.1651C9.88408 15.1651 11.4419 14.518 12.7314 13.2237C14.0209 11.9294 14.6656 10.3692 14.6656 8.54314C14.6656 6.71705 14.0195 5.15933 12.7274 3.87C11.4351 2.58067 9.87732 1.936 8.0541 1.936C6.22763 1.936 4.66786 2.582 3.37478 3.874C2.0817 5.16619 1.43516 6.72381 1.43516 8.54686C1.43516 10.3731 2.08237 11.9328 3.37678 13.2257C4.67119 14.5187 6.23154 15.1651 8.05781 15.1651ZM5.23925 7.70514C5.47165 7.70514 5.67043 7.62257 5.83559 7.45743C6.00056 7.29248 6.08305 7.08991 6.08305 6.84971C6.08305 6.60971 5.9997 6.40905 5.83302 6.24771C5.66634 6.08619 5.4646 6.00543 5.22782 6.00543C4.99561 6.00543 4.79682 6.08686 4.63148 6.24971C4.46613 6.41257 4.38345 6.61429 4.38345 6.85486C4.38345 7.09105 4.46603 7.29181 4.63119 7.45714C4.79635 7.62248 4.99903 7.70514 5.23925 7.70514ZM8.06181 12.6194C8.86627 12.6194 9.59396 12.4106 10.2449 11.9929C10.8958 11.5751 11.3942 11.0346 11.7402 10.3711L4.37231 10.36C4.71825 11.0309 5.21849 11.5751 5.87303 11.9929C6.52757 12.4106 7.25716 12.6194 8.06181 12.6194ZM10.8881 7.70514C11.1133 7.70514 11.3096 7.62257 11.477 7.45743C11.6446 7.29248 11.7285 7.08991 11.7285 6.84971C11.7285 6.60971 11.6439 6.40905 11.4747 6.24771C11.3056 6.08619 11.105 6.00543 10.8729 6.00543C10.6407 6.00543 10.4419 6.08686 10.2766 6.24971C10.1112 6.41257 10.0286 6.61429 10.0286 6.85486C10.0286 7.09105 10.1112 7.29181 10.2763 7.45714C10.4415 7.62248 10.6454 7.70514 10.8881 7.70514Z" />
              </g>
            </svg>

            Portal Web
          </a>
        </li>
      </ul>
    </div>
    <div class="container-search">
      <div class="search-container">
        <input [(ngModel)]="terminoDeBusqueda" id="searchbarInput" class="search-input" type="text"
          placeholder="Buscar..." />
        <span class="search-icon form-rounded">
          <i class="fas fa-search"></i>
        </span>
      </div>
    </div>
  </div>

  <div *ngIf="selectedTab === 'vehiculos'">
    <!-- Seccion Vehiculos -->
    <div class="container-card" *ngIf="listaPreguntasVehiculo.length > 0">
      <!-- Acordeon de preguntas -->
      <mat-accordion id="acordeonVehiculos">
        <mat-expansion-panel [expanded]="true" *ngFor="
            let pregunta of listaPreguntasVehiculo | filter : terminoDeBusqueda
          " hideToggle (click)="abrir(pregunta!)" class="panel-pregunta">
          <mat-expansion-panel-header class="header-panel">
            <mat-panel-title class="titulo-pregunta">
              {{ pregunta.pregunta }}
            </mat-panel-title>
            <mat-panel-description>
              <mat-icon class="icono my-auto ml-auto" *ngIf="!pregunta.abierto">keyboard_arrow_down</mat-icon>
              <mat-icon class="icono my-auto ml-auto p-2" *ngIf="pregunta.abierto">keyboard_arrow_up</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>

          <br />
          <div class="descripcion-pregunta" [innerHTML]="pregunta.respuesta | safeHtml"></div>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </div>
  <div *ngIf="selectedTab === 'hogar'" class="container-card">
    <!-- Contenido para Hogar -->
    <img class="ico-no-faq" [src]="icoNoFAQ" alt="icono no info" />
    <p class="no-faq">
      ¡Oops! No encontramos ningún <br />
      resultado para tu búsqueda.
    </p>
  </div>
  <div *ngIf="selectedTab === 'portalWeb'">
    <!-- Sección Web -->
    <div class="container-card" *ngIf="(listaPreguntasCanalWeb | filter : terminoDeBusqueda).length > 0">
      <!-- Acordeon de preguntas -->
      <mat-accordion>
        <mat-expansion-panel *ngFor="
            let pregunta of listaPreguntasCanalWeb | filter : terminoDeBusqueda
          " hideToggle (click)="abrir(pregunta)" class="panel-pregunta">
          <mat-expansion-panel-header class="header-panel">
            <mat-panel-title class="titulo-pregunta">
              {{ pregunta.pregunta }}
            </mat-panel-title>
            <mat-panel-description>
              <mat-icon class="icono my-auto ml-auto" *ngIf="!pregunta.abierto">keyboard_arrow_down</mat-icon>
              <mat-icon class="icono my-auto ml-auto" *ngIf="pregunta.abierto">keyboard_arrow_up</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>

          <br />
          <div class="descripcion-pregunta" [innerHTML]="pregunta.respuesta | safeHtml"></div>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </div>

  <!-- Contenedor de tipos de preguntas -->

  <br />
  <!-- icono cuando no se encuentran preguntas -->
  <div class="container-card" *ngIf="
      (listaPreguntasVehiculo | filter : terminoDeBusqueda).length == 0 &&
      (listaPreguntasCanalWeb | filter : terminoDeBusqueda).length == 0
    ">
    <div #spinner class="d-flex estilosSpinner" *ngIf="loading">
      <div *ngIf="loading" alt='logo' class="spinner cargaSpinner"></div>
    </div>
    <img class="ico-no-faq" [src]="icoNoFAQ" alt="icono no info" />
    <p class="no-faq">
      ¡Oops! No encontramos ningún <br />
      resultado para tu búsqueda.
    </p>
  </div>
</div>
<app-footer></app-footer>